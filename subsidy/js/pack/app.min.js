ldc.register("who",[],function(){var t,e;return t={target:{}},e=new ldView({root:"[ld-scope=who]",handler:{avatar:function(e){var n;return n=e.node,n.style.backgroundImage="url("+siteroot+"assets/img/cand/img_leaderboard_"+t.num+".png)"},name:function(e){var n;return n=e.node,n.textContent=t.target.name},list:{list:function(){return t.target.list},handle:function(t){var e,n,r,o,i,a;return e=t.node,n=t.data,r=ld$.find(e,"[ld=mark]",0),o=ld$.find(e,"[ld=title]",0),i=ld$.find(e,"[ld=amount]",0),o.textContent=n.title,a=1e6*Math.round(n.amount/1e6),i.textContent=numconvert.a2c(a,{partial:!0}),r.style.backgroundImage="url("+siteroot+"assets/img/party/ic_"+n.party+".png)"}}}}),ldc.action({show:function(n,r){return(t.cache?Promise.resolve(t.cache):ld$.fetch(siteroot+"assets/data/who.json",{method:"GET"},{type:"json"})).then(function(o){var i;if(t.cache=o,i=o.filter(function(t){return t.name===n})[0])return t.target=i,t.num=r,e.render(),lda.ldcvmgr.toggle("who")})}})}),ldc.register("interview",[],function(){var t,e;return t={target:{}},e=new ldView({root:"[ld-scope=interview]",handler:{avatar:function(t){t.node},name:function(e){var n;return n=e.node,n.textContent=t.target.name},title:function(e){var n;return n=e.node,n.textContent=t.target.title},brief:function(e){var n;return n=e.node,n.textContent=t.target.brief},content:function(e){var n;return n=e.node,n.innerHTML=(t.target.html||"").replace(/\n/g,"")}}}),ldc.action({video:function(){var e;if(e=ld$.find(document,".ldcvmgr[data-name=video] iframe",0))return e.setAttribute("src",t.target.video),lda.ldcvmgr.get("video").then(function(){return e.setAttribute("src","about:blank")})},show:function(n){return(t.cache?Promise.resolve(t.cache):ld$.fetch(siteroot+"assets/data/interview.json",{method:"GET"},{type:"json"})).then(function(r){var o,i;if(t.cache=r,o=r.filter(function(t){return t.name===n})[0])return t.target=o,e.render(),lda.ldcvmgr.toggle("interview"),(i=ld$.find(document,".ldcvmgr[data-name=interview]",0))?setTimeout(function(){return i.scrollTop=0},100):void 0})}})}),ldc.register("history",[],function(){var t,e,n,r,o;return t={idx:0},e=datasrc.history,n=e.map(function(t){return t.year-1911}),r=function(r){var i,a,u;if(null==r&&(r=1),t.idx=(i=t.idx+r)>0?i:0,a=t.idx===n.length,o.get("read").classList.toggle("d-none",a),o.get("end").classList.toggle("d-none",!a),!a)return(u=o.get("illustration")).setAttribute("src",siteroot+"assets/img/history/history_img_"+n[t.idx]+".png"),u.classList.add("d-none"),debounce(10).then(function(){return o.get("illustration").classList.remove("d-none")}),o.get("year").innerHTML="民國<br>"+(e[t.idx].year-1911)+"年"+(t.idx===n.length-1?"<br>迄今":""),o.get("desc").textContent=e[t.idx].desc+""},ldc.action({show:function(){return t.idx=0,r(0),lda.ldcvmgr.get("history").then(function(){return t.idx=0})}}),o=new ldView({root:"[ld-scope=history]",action:{click:{prev:function(t){return t.node,r(-1)},next:function(t){return t.node,r(1)}}},handler:{illustration:function(t){t.node},year:function(){},desc:function(){}}})}),ldc.register("main",["ldcvmgr","history","interview","who","parallax","nav"],function(){var t,e,n;return t={vote:{}},t.vote={target:"蔡英文",cand:{}},e=function(){var t,e;if((t=n.getAll("section").map(function(t){return[t.getAttribute("data-value"),t.getBoundingClientRect().top]}).filter(function(t){return t[1]<=window.innerHeight})).sort(function(t,e){return e[1]-t[1]}),e=t[0])return n.getAll("hint").map(function(t){return t.classList.toggle("active",t.getAttribute("data-value")===e[0])})},ld$.fetch("https://pts.tellstory.io/e/vote",{method:"GET"},{type:"json"}).then(function(e){var r,o;return e.map(function(e){var n,r;return((n=t.vote.cand)[r=e.name]||(n[r]={})).count=isNaN(+e.count)?"???":e.count}),t.vote.max=Math.max.apply(null,function(){var e,n=[];for(r in e=t.vote.cand)o=e[r],n.push(o.count);return n}()),n.render(["vote-count-total","vote-count","vote-money"])}),t.obs=new IntersectionObserver(e,{root:null}),n=new ldView({root:document,action:{click:{vote:function(e){var r,o;return r=e.node,o=r.getAttribute("data-value"),t.vote.target={song:"宋楚瑜",fish:"韓國瑜",tsai:"蔡英文"}[o],t.vote.key=o,n.getAll("vote-ani").map(function(t){return t.classList.toggle("d-none",!0)}),n.get("vote-result").classList.remove("d-none"),scrollto("#vote-result",500,0),ld$.fetch("https://pts.tellstory.io/e/vote",{method:"POST"},{type:"json",json:{v:t.vote.target}}).catch(function(){}),setTimeout(function(){return n.getAll("vote-ani").map(function(t){return t.classList.toggle("d-none",!1)})},500),n.render()},hint:function(t){var e,r,o;if(e=t.node,r=e.getAttribute("data-value"),o=n.getAll("section").filter(function(t){return t.getAttribute("data-value")===r})[0])return scrollto(o,500)}}},init:{url:function(t){var e;return e=t.node,e.value=window.location.href},section:function(e){var n;return n=e.node,t.obs.observe(n)},copylink:function(t){var e;return e=t.node,new ClipboardJS(e).on("success",function(){return e.classList.add("tip-on"),setTimeout(function(){return e.classList.remove("tip-on")},2e3)})}},handler:{"vote-cand":function(e){var n;return(n=e.node).classList.toggle("d-none",n.getAttribute("data-value")===t.vote.target)},"vote-target-portrait":function(e){var n;if(n=e.node,t.vote.key)return n.style.backgroundImage="url("+siteroot+"assets/img/cand/top/img_candidate_"+t.vote.key+".png)"},"vote-target-count":function(e){var n,r,o;return n=e.node,n.textContent=((r=t.vote.cand)[o=t.vote.target]||(r[o]={})).count||0},"vote-target-name":function(e){var n;return n=e.node,n.textContent=t.vote.target},"vote-count":function(e){var n,r,o,i;return n=e.node,r=(o=t.vote.cand)[i=n.getAttribute("data-value")]||(o[i]={}),n.textContent=null!=r.count?r.count:"..."},"vote-money":function(e){var n,r,o,i,a;return n=e.node,r=(o=t.vote.cand)[i=n.getAttribute("data-value")||t.vote.target]||(o[i]={}),n.textContent=null!=r.count?r.count>=t.vote.max/3?(a=30*r.count,numconvert.a2c(a,{partial:["億","萬"]})):0:"..."},"vote-count-total":function(e){var n,r,o,i;return n=e.node,r=function(){var e,n=[];for(o in e=t.vote.cand)i=e[o],n.push([o,i]);return n}().map(function(t){return t[1].count}).reduce(function(t,e){return t+e},0),n.textContent=isNaN(r)?"...":r}}}),ld$.find(document,".sticky").map(function(){return stickybits(".sticky")})}),ldc.app("main");function import$(t,n){var r={}.hasOwnProperty;for(var e in n)r.call(n,e)&&(t[e]=n[e]);return t}!function(){var t,n,r,e,a,i,u,o,l;t=datasrc.money,n=["#f00","#f90","#ff0","#9f0","#0f0","#0f9","#09f","#00f"],n=["#4E257B","#DF3A93"],r=ld$.find(document,"[ld=chart1]",0),e=130,a=80,i=r.getBoundingClientRect(),import$({width:e,height:a},i),e=i.width-20,a=i.height-50,u=function(t){var i,u,o,l,c,d;return null==t&&(t={}),t.i,i=t.j,t.val,t.sum,t.ti,t.tj,t.maxv,t.total,u={x:0,y:0,width:0,height:0},o=function(t){return t.i*(e-2)/t.ti+2},l=function(t){var n;return(n=(e-2)/t.ti-2)>0?n:0},c=function(t){return t.sum*a/t.maxv},d=function(t){return t.val*a/t.maxv},c=function(t){return a-(t.sum+t.val)*a/t.maxv},c=function(t){return a-(t.sum+t.val)*a/t.total},d=function(t){return t.val*a/t.total},c=function(t){return t.i*(a-2)/t.ti+2},d=function(t){var n;return(n=(a-2)/t.ti-2)>0?n:0},o=function(t){return 40+t.sum*e/t.maxv},l=function(t){return t.val*e/t.maxv},import$(u,{x:o(t),y:c(t),width:l(t),height:d(t)}),import$(u,{fill:n[i%n.length]}),r.appendChild(ld$.create({ns:"svg",name:"rect",attr:u}))},o=function(t){var n,i,u,o,l,c,d;return null==t&&(t={}),t.i,n=t.val,i=function(t){return+(e-2)/t.ti*.5+t.i*(e-2)/t.ti+2},u=function(t){return a+3},u=function(t){return(a-2)/t.ti*.5+t.i*(a-2)/t.ti+2},i=function(t){return 30},o={transform:"translate("+i(t)+","+u(t)+")"},l={"font-size":10,dy:"0.3em","text-anchor":"end"},r.appendChild(c=ld$.create({ns:"svg",name:"g",attr:o})),c.appendChild(d=ld$.create({ns:"svg",name:"text",attr:l})),d.textContent=n},[0,1,2,3,4].map(function(t,n){var i,u,o;return i=40+t*e/4,u=ld$.create({ns:"svg",name:"path",attr:{d:"M"+i+" 0 L "+i+" "+a,stroke:"#000","stroke-width":.5}}),r.appendChild(u),o=ld$.create({ns:"svg",name:"text",attr:{x:i,y:a+10,"font-size":10,"text-anchor":"middle"}}),o.textContent=5*t+"億",r.appendChild(o)}),r.appendChild(ld$.create({ns:"svg",name:"path",attr:{d:"M40 "+a+" L"+e+" "+a,stroke:"#000","stroke-width":.5}})),l=Math.max.apply(null,t.map(function(t){return Math.max(t.pty,t.idv)})),t.map(function(n,r){var e,a,i;return e=[n.pty,n.idv],a=0,i=e.reduce(function(t,n){return t+n},0),o({i:r,val:n.year,ti:t.length}),e.map(function(n,o){return u({val:n,i:r,j:o,sum:a,ti:t.length,tj:e.length,maxv:l,total:i}),a+=n})})}();!function(){var n,t,e,r,o;n=datasrc.suggest.map(function(n,t){return n.list.map(function(n){return[n.name,n.election,n.party,n.money]})}),t=datasrc.suggest.map(function(n){return n.name}),e=["第09任總統(副總統)選舉","第10任總統(副總統)選舉","第11任總統(副總統)選舉","第12任總統(副總統)選舉","第13任總統(副總統)選舉","第14任總統(副總統)選舉","第 03 屆立法委員選舉","第 04 屆立法委員選舉","第 05 屆立法委員選舉","第 06 屆立法委員選舉","第 07 屆立法委員選舉","第 08 屆立法委員選舉","第 09 屆立法委員選舉","第7屆立委補選","第8屆立委補選","第9屆立委補選","第 03 屆國大代表選舉","83年臺灣省長選舉","103年縣市議員選舉","107年縣市議員選舉","87年縣市議員選舉","91年縣市議員選舉","94年縣市議員選舉","98年縣市議員選舉","83年臺灣省議員選舉","90年縣市長選舉","86年縣市長選舉","98年縣市長選舉","103年縣市長選舉","107年縣市長選舉","83年直轄市議員選舉","87年直轄市議員選舉","91年直轄市議員選舉","95年直轄市議員選舉","99年直轄市議員選舉","103年直轄市市議員選舉","107年直轄市市議員選舉","107年直轄市長選舉","99年直轄市長選舉","103年直轄市長選舉","91年直轄市長選舉","87年直轄市長選舉","95年直轄市長選舉","83年直轄市長選舉","107年直轄市區民代表選舉","103年直轄市區民代表選舉","107年直轄市區長選舉","103年直轄市區長選舉","107年鄉鎮市民代表選舉","103年鄉鎮市民代表選舉","99年鄉鎮市民代表選舉","107年鄉鎮市長選舉","103年鄉鎮市長選舉","98年鄉鎮市長選舉","94年鄉鎮市長選舉","91年鄉鎮市長選舉","87年鄉鎮市長選舉","103年村里長選舉","107年村里長選舉","99年縣市村里長選舉"],r=["中國國民黨","連署","民主進步黨","新黨","無黨籍及未經政黨推薦","親民黨","全國民主非政黨聯盟","無","勞動黨","民主聯盟","新國家連線","建國黨","中國青年黨","綠色本土清新黨","國家民主黨","台灣團結聯盟","台灣吾黨","大中華統一陣線","臺灣慧行志工黨","綠黨","無黨團結聯盟","工教聯盟","大道慈悲濟世黨","公民黨","客家黨","制憲聯盟","台灣農民黨","紅黨","第三社會黨","世界和平黨","民主自由黨","洪運忠義黨","健保免費連線","中華台商愛國黨","人民最大黨","台灣主義黨","台灣國民會議","人民民主陣線","中華民國臺灣基本法連線","正黨","時代力量","民國黨","綠黨社會民主黨聯盟","中華統一促進黨","樹黨","軍公教聯盟黨","台灣工黨","自由台灣黨","泛盟黨","勞工黨","大愛憲改聯盟","台灣獨立黨","信心希望聯盟","和平鴿聯盟黨","台灣未來黨","中華民國機車黨","社會福利黨","全民的黨","全民無黨聯盟","聯合黨","金門高粱黨","先進黨","台灣民族黨","大道人民黨","中華民族致公黨","皇君人民政黨","全民生活政策黨","社會改革黨","保護台灣大聯盟","台灣國民黨","教科文預算保障e聯盟","中國忠義黨","中國婦女黨","中國民眾黨","台灣建國聯盟","華聲黨","中華民主向日葵憲政改革聯盟","臺灣建國黨","社會民主黨","基進黨","臺灣人民共產黨","愛心黨","左翼聯盟","中國民主進步黨","新政世紀黨","人民民主黨","台灣整復師聯盟工黨","青年陽光黨","中華民國國政監督聯盟","三等國民公義人權自救黨","新華勞動黨","中國生產黨","中國台灣原住民黨","台灣第一民族黨","新生黨","華裔和合黨","臺灣前進黨","天宙和平統一家庭黨","中華文化民主黨","中國國家社會主義勞工黨","台灣進步黨","經濟黨","聾國黨","全國人民黨","世界大同黨","農民黨","正義聯盟","台灣學習黨"],o={0:"kmt",2:"dpp",3:"np",5:"pfp",15:"tsu",40:"npp"},ldc.register("explore",["ldcvmgr","loader","nav"],function(a){var u,l,c,i;return a.ldcvmgr,a.loader,a.nav,u=new ldLoader({className:"full ldld"}),l={},c=function(){var n,t;l.hash={},(l.all||[]).filter(function(n){return!(null!=l.election&&n[1]!==l.election||null!=l.party&&n[2]!==l.party)}).map(function(n){var t,e;return((t=l.hash)[e=n[0]]||(t[e]=[])).push(n)}),n=[];for(t in l.hash)n.push(t);return l.names=n,i.get("election-toggle").textContent=null!=e[l.election]?e[l.election]:"請選擇選舉名稱",i.get("party-toggle").textContent=null!=r[l.party]?r[l.party]:"請選擇政黨",i.render(),u.off()},ldc.action({preset:function(t){return l.election=void 0,l.party=void 0,i.get("search").value="",l.all=n[+t],c(),scrollto("#list",150)},election:function(){return lda.ldcvmgr.get("choose-election").then(function(n){return l.election=null==n?void 0:+n}).then(function(){return c()})},party:function(){return lda.ldcvmgr.get("choose-party").then(function(n){return l.party=null==n?void 0:+n}).then(function(){return c()})}}),i=new ldView({root:"[ld-scope=explore]",action:{input:{search:debounce(function(n){var t;return t=n.node,u.on(),debounce(100).then(function(){return ld$.fetch(siteroot+"assets/data/name/"+t.value.charAt(0)+".json",{method:"GET"},{type:"json"})}).then(function(n){return l.all=n.filter(function(n){return n[0].startsWith(t.value)}),c()}).catch(function(){return l.all=[],c()})})}},handler:{preset:{list:function(){return t},handle:function(n){var e,r;return e=n.node,r=n.data,n.idx,e.querySelector("[ld=name]").textContent=r,e.addEventListener("click",function(){return lda.explore.preset(t.indexOf(r))})}},card:{list:function(){return(l.names||[]).map(function(n){return l.hash[n]})},handle:function(n){var t,r;return t=n.node,r=n.data,new ldView({root:t,handler:{name:function(n){var t;return t=n.node,t.textContent=r[0][0]},list:{list:function(){return r},handle:function(n){var t,r;return t=n.node,r=n.data,new ldView({root:t,handler:{mark:function(n){var t,e;return t=n.node,e=o[r[2]]||"other",t.style.backgroundImage="url("+siteroot+"assets/img/party/ic_"+e+".png)"},title:function(n){var t;return t=n.node,t.textContent=e[r[1]]},amount:function(n){var t;return t=n.node,t.textContent=numconvert.a2c(r[3],{partial:["億","萬"]})+"元"}}})}}}})}}}})}),ldc.app("explore")}();function in$(t,e){for(var n=-1,r=e.length>>>0;++n<r;)if(t===e[n])return!0;return!1}function import$(t,e){var n={}.hasOwnProperty;for(var r in e)n.call(e,r)&&(t[r]=e[r]);return t}ldc.register("parallax",[],function(){var t,e,n,r,a,i,l,u,o,s,d,p,c,h,f,m,v,y,g,$,x,C,w,B,b,F,A,N,j,z,D,E,R,S,q,k,L,M,O,P,W,G;for(t={},e=[["#3CB59A","民進黨"],["#467DB4","國民黨"],["#F0753F","親民黨"],["#B4865D","台聯"],["#FFDD1F","新黨"],["#FCBE2E","時代力量"]],(n=[{year:1995,value:[15660780,21745445,6114655,0,0,0]},{year:1996,value:[15563680,25904145,7129480,0,0,0]},{year:1997,value:[156607800,217454450,61146550,0,0,0]},{year:1998,value:[445025100,698951850,106269750,0,0,0]},{year:2001,value:[517161e3,442405650,0,287675400,120234e3,0]},{year:2004,value:[694285800,638016200,0,270122600,151342400,0]},{year:2008,value:[722021200,1002160200,0,0,0,0]},{year:2012,value:[911284800,1172655800,0,144417800,235759400,0]},{year:2016,value:[1074190600,656189800,102014800,158967600,0,148863e3]}]).map(function(t){var e,n,r;return e=0,t.sum=function(){var a,i=[];for(a=0;a<6;++a)n=a,r=e,e+=t.value[n],i.push(r);return i}()}),r=e.map(function(t,e){return n.map(function(t){return t.value[e]}).reduce(function(t,e){return t+e},0)}),a=Math.max.apply(null,r),l=(i=ld$.find(document,"#parallax",0)).getBoundingClientRect(),(u=i.style).width=l.width+"px",u.height=l.height+"px",o=ld$.find(i,"svg",0),s=function(t){return 400-250*t/2e9},d=function(t){return 250*t/2e9},p=function(){return window.innerWidth<768},window.addEventListener("scroll",function(){var e,n,r,a,i,l,u;return e=ld$.find(document,"#parallax-start",0),n=ld$.find(document,"#parallax-end",0),r=n.getBoundingClientRect(),a=e.getBoundingClientRect(),r.y=r.top,a.y=a.top,i=r.y-a.y,l=p()?10:0,(u=100*(i-r.y)/i+l)<18&&1!==t.step?G(1,!1):u>=18&&u<33&&2!==t.step?G(2,!1):u>=33&&u<50&&3!==t.step?G(3,!1):u>=50&&4!==t.step?G(4,!1):void 0}),c=[],h=function(t,e,n){var r,a,i,l;null==n&&(n=330),a=(r=[{},{}])[0],i=r[1];for(l in e)e[l],a[l]=t.getAttribute(l),isNaN(+a[l])?isNaN(ldColor.hsl(a[l]).a)?/\d+/.exec(a[l])?(r=["numstr",new NumStr(a[l]),new NumStr(e[l])],i[l]=r[0],a[l]=r[1],e[l]=r[2]):(r=["string",a[l],e[l]],i[l]=r[0],a[l]=r[1],e[l]=r[2]):(r=["color",ldColor.hsl(a[l]),ldColor.hsl(e[l])],i[l]=r[0],a[l]=r[1],e[l]=r[2]):(r=["number",+a[l],+e[l]],i[l]=r[0],a[l]=r[1],e[l]=r[2]);if(t.ani={s:a,e:e,t:i,dur:n,st:0},!in$(t,c))return c.push(t)},f=[.75,0,.25,1],m=function(t){return cubic.Bezier.y(cubic.Bezier.t(t,f),f)},v=!1,y=function(t){return v=!0,c.map(function(e){var n,r,a,i,l,u,o,s,d,p,c,h,f=[];e.ani.st||(e.ani.st=t),r=(n=e.ani).s,a=n.e,i=n.t,l=n.st,u=n.dur,e.ani.percent=o=m((n=(t-l)/u)<1?n:1);for(s in r)d=r[s],"number"===i[s]?d=(a[s]-r[s])*o+r[s]:"numstr"===i[s]?d=NumStr.interpolate(r[s],a[s],o):"color"===i[s]?(p=ldColor.hsl(a[s]),c=ldColor.hsl(r[s]),h={},["h","s","l","a"].map(function(t){return h[t]=(p[t]-c[t])*o+c[t]}),d=ldColor.web(h)):d=a[s],f.push(e.setAttribute(s,d));return f}),(c=c.filter(function(t){return t.ani.percent<1})).length?requestAnimationFrame(y):v=!1},g=function(){return v||requestAnimationFrame(y),v=!0},$=[],x=[],C=[],w=[],B=[],b=0,F=n.length;b<F;++b)n[b],o.appendChild(A=ld$.create({ns:"svg",name:"text",attr:{class:"tick"}})),B.push(A);for(b=0,F=e.length;b<F;++b)for(N=e[b],o.appendChild(j=ld$.create({ns:"svg",name:"g",attr:{class:"group"}})),j.appendChild(z=ld$.create({ns:"svg",name:"g"})),z.appendChild(D=ld$.create({ns:"svg",name:"text"})),z.appendChild(E=ld$.create({ns:"svg",name:"rect"})),w.push(E),x.push(z),C.push(D),$.push(R=[]),S=0,q=n.length;S<q;++S)n[S],j.appendChild(k=ld$.create({ns:"svg",name:"rect",attr:{fill:N[0]}})),R.push(k);return L=function(t){var e,n,r,a,i,l;return e=t.step,n=t.node,r=t.j,a=t.year,i=t.init,n.textContent=a.year,l={"font-size":p()?20:16,x:472*(r+.5)/9+20,y:420,"text-anchor":"middle"},e<=2&&(l.opacity=0),3===e&&(l.opacity=1),i?ld$.attr(n,l):h(n,l)},M=function(t){var e,n,r,a,i;return e=t.step,n=t.node,r=t.i,t.name,t.year,t.val,a=t.init,i=1===e?{transform:"translate("+(75*r+43+25)+",281)"}:2===e?{transform:"translate("+(75*r+43+25)+",410)"}:{transform:"translate("+(30*r+166)+",450)"},a?ld$.attr(n,i):h(n,i)},O=function(t){var e,n,r,a,i;return e=t.step,n=t.node,t.i,r=t.name,t.year,t.val,a=t.init,i={x:0,y:0,width:0,height:0,rx:2,ry:2,fill:r[0]},e>=3&&import$(i,{x:-8,y:-8,width:16,height:16}),a?ld$.attr(n,i):h(n,i)},P=function(t){var e,n,r,a,i;return e=t.step,n=t.node,t.i,r=t.name,t.year,t.val,a=t.init,n.textContent=1===e?r[1]:r[1].charAt(0),i={"font-size":p()?24:16,rotate:-90,dy:"0.5em",dx:"1.75em",transform:"rotate(90)"},a?ld$.attr(n,i):h(n,i)},W=function(t){var e,n,r,a,i,l,u,o,p,c;return e=t.step,n=t.node,r=t.i,a=t.j,i=t.name,l=t.year,u=t.val,o=t.init,p={},import$(p,1===e?{rx:10,ry:10}:{rx:0,ry:0}),import$(p,{x:75*r+43,y:221,width:50,height:50,fill:i[0]}),2===e&&import$(p,{y:400-u+u/9*a,height:u/9+1}),e>=3&&import$(p,{x:472*a/9+20,width:472/9-2,y:s(l.sum[r]+l.value[r]),height:(c=d(l.value[r])-2)>0?c:0}),4===e&&import$(p,{fill:5===r?i[0]:"#ccc"}),o?ld$.attr(n,p):h(n,p)},(G=function(i,l){var u,s,d,c,h,f,m,v,y,b,F;for(null==l&&(l=!1),o.setAttribute("viewBox",p()?"-45 0 602 512":"0 0 1024 512"),t.step=i,u=0,d=(s=n).length;u<d;++u)c=u,h=s[u],L({step:i,node:B[c],year:h,j:c,init:l});for(u=0,d=(s=e).length;u<d;++u)for(f=u,m=s[u],v=350*r[f]/a,P({step:i,node:C[f],name:m,i:f,val:v,init:l}),O({step:i,node:w[f],name:m,i:f,val:v,init:l}),M({step:i,node:x[f],name:m,i:f,val:v,init:l}),y=0,F=(b=n).length;y<F;++y)c=y,h=b[y],W({step:i,node:$[f][c],name:m,year:h,i:f,j:c,val:v,init:l});return g()})(1,!0)});